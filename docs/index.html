<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<style>
  body {
    padding: 100px;
    width: 1000px;
    margin: auto;
    text-align: left;
    font-weight: 300;
    font-family: 'Open Sans', sans-serif;
    color: #121212;
  }
  h1, h2, h3, h4 {
    font-family: 'Source Sans Pro', sans-serif;
  }
</style>
<title>CS184 Smoke Simulation Proposal</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link href="https://fonts.googleapis.com/css?family=Open+Sans|Source+Sans+Pro" rel="stylesheet">
</head>


<body>

<h1 align="middle">CS 184</h1>
<h1 align="middle">Final Project: Smoke Simulation Proposal</h1>
<h2 align="middle">Eric Ying</h2>
<h2 align="middle">Yuanhao Zhai</h2>
<h2 align="middle">Fangzhou Lan</h2>

<br><br>

<div>

<h1 align="middle">Overview</h1>
<p>For our final project, we want to create a realistic simulation of smoke using the Navier-Stokes equations. In order to render the smoke, we are going to use a ray marching algorithm. <p>


<h1 align="middle">Problem Description </h1>
<p>The problem we want to solve is simulating and rendering realistic smoke in either 2D or 3D. This problem is important, because smoke is widely present in movies, games, and engineering applications. Being able to render smoke and simulate its motion will allow to to create a wide array of special effects. The most challenging part of the project is figuring out how we are going to model our smoke and render that on the screen.</p>


<p>Our general approach on solving this problem is by splitting this problem into two parts. The first part is simulating the dynamic motion of the smoke using a series of Navier-Stokes equations. The second part is actually rendering the smoke on the screen using some type of ray marching algorithm. </p>

<h2>Simulation</h2>


<p>For our simulation, we update the position, density, and temperature using an Incompressible Navier-Stokes equation. Below are the equations we might use in our simulation. The simulation process includes several parts: updating velocity, updating density, updating temperature and displaying density. The most important part of these is the update of velocity. We need to separately calculate the advection form, external forces, and pressures according to the Navier-Stokes Equation. Specifically, advection means moving the smokes through its velocity field. One of the most significant external forces is gravity.</p>
<p>Then we declare the variable symbols used here: u is the velocity field, v is viscosity(we may not need it in smoke simulation), f is external forces including gravity, œÅ is smoke density, p is pressure, S is external smoke sources, and T is temparture of smoke. </p>



<center>
<table style="width=100%">
<tr>
  <td>
    <img src="images/prop-eq1.png" align="middle" width="600px"/>
    <figcaption align="middle">Incompressible Navier-Stokes equation</figcaption>
  </td>
</tr>
</table>
</center>
where \(\textbf{u}\) is the velocity field, \(\textbf{f}\) is the external forces, \(p\) is the pressure of the gas. The first equation means the smoke is incompressible, and in the second equation, the term \(-\left(\textbf{u}\cdot \nabla\right)\textbf{u}\) is self-advecation, term \(-\frac{1}{\rho}\nabla p\) means updating the pressure.

<center>
<table style="width=100%">
<tr>
  <td>
    <img src="images/prop-eq2.png" align="middle" width="600px"/>
    <figcaption align="middle">Update density</figcaption>
  </td>
</tr>
</table>
</center>

<center>
<table style="width=100%">
<tr>
  <td>
    <img src="images/prop-eq3.png" align="middle" width="600px"/>
    <figcaption align="middle">Update temprature</figcaption>
  </td>
</tr>
</table>
</center>
  
<h2>Rendering</h2>
<p>Smoke rendering is a crucial part of our project and is achieved by separating the scene into many cells and then using the result of simulation to interpolate within the cells. To render the texture, we used temperature obtained from simulation instead of actual color values, and then we use the temperature value to look up for the color value from another texture. What's more, we use ray marching to simulate illumination; thus, the density of smoke influences the brightness and transparency of smoke.</p>

<h1 align="middle">Goals and Deliverables</h1>

<p>For this project, our deliverables will be screenshots of the smoke simulation in action. We can similarly showcase our smoke simulation in action during our demo. In order to measure the quality of our simulation, we could measure the time between each frame of our simulation (relative speed up) and the quality of the smoke rendered. </p>

<p>Our plan is to be able to load some file with initial smoke positions and use that file to simulate smoke on a GUI.</p>

<p>Our hopes for this project is to add interactivity. When the user clicks the mouse at a location within the GUI, we can start a smoke effect at that location. We also hope to be able to modify different parameters of the smoke within the GUI, such as density and temperature. </p>
  
<h1 align="middle"> Schedules </h1>
First 2 weeks: focuse on the simulation part
<br>
Last 2 weeks: focus on the rendering part
<br>
  
<h1 align="middle"> Resources </h1>
http://www.cs.unc.edu/~lin/COMP768-S09/LEC/smoke.ppt  
<br>
https://github.com/mharrys/fluids-2d
<br>
http://graphics.ucsd.edu/~henrik/papers/smoke/smoke.pdf
<br>
https://rachelbhadra.github.io/smoke_simulator/index.html?fbclid=IwAR10sihsuvDXugkPA81n9X7PtsjMXmsCoOasOKW6_Xz9vhd24IaL2TCgxSc#contributions
<br>
  
</body>
</html>
